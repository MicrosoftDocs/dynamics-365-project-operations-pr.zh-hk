---
title: 將必要的自訂欄位新增至價格設定與交易實體
description: 本主題提供有關如何將必要的自訂欄位參考新增至實體以及表單和檢視表的資訊。
author: rumant
ms.date: 09/18/2020
ms.topic: article
ms.prod: ''
audience: Application User
ms.reviewer: kfend
ms.search.scope: ''
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.search.industry: Service industries
ms.author: suvaidya
ms.dyn365.ops.version: ''
ms.search.validFrom: 2020-10-01
ms.openlocfilehash: a7268eb33c80f5e35d2ef21a8f4c7ed7ba322e27
ms.sourcegitcommit: 40f68387f594180af64a5e5c748b6efa188bd300
ms.translationtype: HT
ms.contentlocale: zh-HK
ms.lasthandoff: 05/10/2021
ms.locfileid: "6000598"
---
# <a name="add-required-custom-fields-to-price-setup-and-transactional-entities"></a><span data-ttu-id="71e20-103">將必要的自訂欄位新增至價格設定與交易實體</span><span class="sxs-lookup"><span data-stu-id="71e20-103">Add required custom fields to price setup and transactional entities</span></span>

<span data-ttu-id="71e20-104">_**適用於：** 資源/非庫存型案例適用的 Project Operations、精簡部署 - 交易至開立預估發票_</span><span class="sxs-lookup"><span data-stu-id="71e20-104">_**Applies To:** Project Operations for resource/non-stocked based scenarios, Lite deployment - deal to proforma invoicing_</span></span>

<span data-ttu-id="71e20-105">本主題假設您已完成主題[建立自訂欄位和實體以做為定價維度使用](create-custom-fields-entities-pricing-dimensions.md)中的程序。</span><span class="sxs-lookup"><span data-stu-id="71e20-105">This topic assumes that you have completed the procedures in the topic, [Create custom fields and entities to be used as pricing dimensions](create-custom-fields-entities-pricing-dimensions.md).</span></span> <span data-ttu-id="71e20-106">如果您尚未完成這些程序，請返回並加以完，然後再回到本主題。</span><span class="sxs-lookup"><span data-stu-id="71e20-106">If you haven't completed those procedures, go back and complete them and then return to this topic.</span></span> 

<span data-ttu-id="71e20-107">本主題中的程序會告訴您如何將必要的自訂欄位參照新增至實體和使用者介面 (UI) 元素，例如表單和檢視表。</span><span class="sxs-lookup"><span data-stu-id="71e20-107">In this topic, the procedures will show you how to add the required custom field references to entities and to the user interface (UI) elements such as forms and views.</span></span>

## <a name="add-custom-pricing-dimension-fields"></a><span data-ttu-id="71e20-108">新增自訂定價維度欄位</span><span class="sxs-lookup"><span data-stu-id="71e20-108">Add custom pricing dimension fields</span></span> 
<span data-ttu-id="71e20-109">建立自訂欄位和實體之後，下一個步驟是透過建立參照欄位，讓價格設定和交易實體感知任何自訂實體或選項組。</span><span class="sxs-lookup"><span data-stu-id="71e20-109">After custom fields and entities have been created, the next step is to make price setup and transactional entities aware of any custom entities or option sets by creating reference fields.</span></span> <span data-ttu-id="71e20-110">依據定價維度清單包含的是選項組維度、實體維度還是這兩個維度都包含而定，分別依照 **選項組型自訂定價維度** 或 **實體型自訂定價維度** 或兩者中的步驟操作。</span><span class="sxs-lookup"><span data-stu-id="71e20-110">Depending on whether your pricing dimensions list includes option set dimensions or entity dimensions or both, follow only the steps in **Option set-based custom pricing dimensions** or **Entity-based custom pricing dimensions**, or both, respectively.</span></span>

### <a name="option-set-based-custom-pricing-dimensions"></a><span data-ttu-id="71e20-111">選項組型自訂定價維度</span><span class="sxs-lookup"><span data-stu-id="71e20-111">Option set-based custom pricing dimensions</span></span>
<span data-ttu-id="71e20-112">自訂定價維度以選項組為準時，將其新增為主要實體的欄位。</span><span class="sxs-lookup"><span data-stu-id="71e20-112">When a custom pricing dimension is option set-based, add it as a field to key entities.</span></span> <span data-ttu-id="71e20-113">在下列程序中，**資源工作地點** 和 **資源工作時數** 會用來做為選項組的定價維度。</span><span class="sxs-lookup"><span data-stu-id="71e20-113">In the following procedure, **Resource Work Location** and **Resource Work Hours** are used as the option set-based pricing dimensions.</span></span> <span data-ttu-id="71e20-114">這些維度必須先新增為定價實體的欄位 **角色價格** 和 **角色價格加成**。</span><span class="sxs-lookup"><span data-stu-id="71e20-114">These must first be added as fields to the pricing entities, **Role Price** and **Role Price Markup**.</span></span>

1. <span data-ttu-id="71e20-115">在 Project Operations 中，選取 **設定** > **解決方案**，然後按兩下 **\<your organization name> 定價維度**。</span><span class="sxs-lookup"><span data-stu-id="71e20-115">In Project operations, select **Settings** > **Solutions**, and double-click **\<your organization name> pricing dimensions**.</span></span> 
2. <span data-ttu-id="71e20-116">在方案總管的左導覽窗格中，選取 **實體 > 角色價格**。</span><span class="sxs-lookup"><span data-stu-id="71e20-116">In Solution Explorer, on the left navigation pane, select **Entities > Role Price**.</span></span>
3. <span data-ttu-id="71e20-117">展開實體 **角色價格**，並選取 **欄位**。</span><span class="sxs-lookup"><span data-stu-id="71e20-117">Expand the entity **Role Price** and select **Fields**.</span></span>
4. <span data-ttu-id="71e20-118">選取 **新增** 建立名為 **資源工作地點** 的新欄位，然後選取 **選項組** 做為欄位類型。</span><span class="sxs-lookup"><span data-stu-id="71e20-118">Select **New** to create a new field called **Resource Work Location** and select **Option set** as the field type.</span></span> 
5. <span data-ttu-id="71e20-119">選取 **使用現有的選項組**、選取 **資源工作地點** 選項組，然後選取 **儲存**。</span><span class="sxs-lookup"><span data-stu-id="71e20-119">Select **Use an existing Option set**, select the **Resource Work Location** option set, and then select **Save**.</span></span>
6. <span data-ttu-id="71e20-120">重複步驟 1-5，將此欄位新增至 **角色價格加成** 實體。</span><span class="sxs-lookup"><span data-stu-id="71e20-120">Repeat steps 1 - 5 to add this field to the **Role Price Markup** entity.</span></span> 
7. <span data-ttu-id="71e20-121">針對 **資源工作時數** 選項組，重複步驟 1-5。</span><span class="sxs-lookup"><span data-stu-id="71e20-121">Repeat steps 1 - 5 for the **Resource Work Hours** option set.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="71e20-122">新增欄位至多個實體時，請在所有的實體中使用相同的欄位名稱。</span><span class="sxs-lookup"><span data-stu-id="71e20-122">When you add a field to more than one entity, use the same field name across all of the entities.</span></span> 

> ![新增資源工作地點至角色價格](media/RWL-Field.png)

<span data-ttu-id="71e20-124">在專案的銷售和估計階段中，完成 **本地** 和 **現場** 工作所需的工作投入估計 (以 **正常時數** 和 **加班時數** 計) 會用來估計報價/專案的值。</span><span class="sxs-lookup"><span data-stu-id="71e20-124">In the sales and estimation phases for a project, estimates of the work effort that is required to complete **Local** and **Onsite** work, in **Regular hours** and **Overtime hours**  are used to estimate the value of the Quote/Project.</span></span> <span data-ttu-id="71e20-125">**資源工作地點** 和 **資源工作時數** 將會新增至估計實體 **報價明細詳細資料**、**合約服務內容詳細資料**、**專案團隊成員** 以及 **估計明細**。</span><span class="sxs-lookup"><span data-stu-id="71e20-125">The fields **Resource Work Location** and **Resource Work Hours** will be added to the estimation entities, **Quote Line Detail**, **Contract Line detail**, **Project Team Member**, and **Estimate Line**.</span></span>

1. <span data-ttu-id="71e20-126">在 Project Operations 中，選取 **設定** > **解決方案**，然後按兩下 **\<your organization name> 定價維度**。</span><span class="sxs-lookup"><span data-stu-id="71e20-126">In Project operations, select **Settings** > **Solutions**, and then double-click **\<your organization name> pricing dimensions**.</span></span> 
2. <span data-ttu-id="71e20-127">在方案總管的左導覽窗格中，選取 **實體 > 報價明細詳細資料**。</span><span class="sxs-lookup"><span data-stu-id="71e20-127">In Solution Explorer, on the left navigation pane, select **Entities > Quote Line Detail**.</span></span>
3. <span data-ttu-id="71e20-128">展開 **報價明細詳細資料** 實體，然後選取 **欄位**。</span><span class="sxs-lookup"><span data-stu-id="71e20-128">Expand the **Quote Line Detail** entity, and select **Fields**.</span></span>
4. <span data-ttu-id="71e20-129">選取 **新增** 建立名為 **資源工作地點** 的新欄位，然後選取欄位類型 **選項組**。</span><span class="sxs-lookup"><span data-stu-id="71e20-129">Select **New** to create a new field called **Resource Work Location** and select the field type, **Option set**.</span></span> 
5. <span data-ttu-id="71e20-130">選取 **使用現有的選項組**，再選取 **資源工作地點**，然後選取 **儲存**。</span><span class="sxs-lookup"><span data-stu-id="71e20-130">Select **Use an existing Option set** and **Resource Work Location**, and then select **Save**.</span></span>
6. <span data-ttu-id="71e20-131">重複步驟 1-5，將此欄位新增至 **專案合約服務內容詳細資料**、**專案團隊成員** 以及 **估計明細** 實體。</span><span class="sxs-lookup"><span data-stu-id="71e20-131">Repeat steps 1 - 5 to add this field to the **Project Contract line detail**, **Project Team Member**, and **Estimate Line** entities.</span></span>
7. <span data-ttu-id="71e20-132">針對 **資源工作時數** 選項組，重複步驟 1-6。</span><span class="sxs-lookup"><span data-stu-id="71e20-132">Repeat steps 1 - 6 for the **Resource Work Hours** option set.</span></span> 

> ![新增資源工作地點至估計明細](media/RWL-Default-Value.png)

<span data-ttu-id="71e20-134">進行交付和開立發票時，已完成的工作必須準確定價，才能選取工作是在 **本地** 還是 **現場** 執行，以及是在專案實際值上的 **正常時數** 還是 **加班時數** 期間完成。</span><span class="sxs-lookup"><span data-stu-id="71e20-134">For delivery and invoicing, completed work needs to be accurately priced to select whether it was performed **Local** or **Onsite**, and whether it was completed during **Regular hours** or **Overtime** on the Project Actuals.</span></span> <span data-ttu-id="71e20-135">**資源工作地點** 和 **資源工作時數** 欄位應新增至 **時間項目**、**實際值**、**發票明細詳細資料** 和 **帳目明細** 實體。</span><span class="sxs-lookup"><span data-stu-id="71e20-135">The **Resource Work Location** and **Resource Work hours** fields should be added to the **Time Entry**, **Actual**, **Invoice Line Detail**, and **Journal Line** entities.</span></span>

1. <span data-ttu-id="71e20-136">選取 **設定** > **解決方案**，然後按兩下 **\<your organization name> 定價維度**。</span><span class="sxs-lookup"><span data-stu-id="71e20-136">Select **Settings** > **Solutions**, and then double-click **\<your organization name> pricing dimensions**.</span></span>
2. <span data-ttu-id="71e20-137">在方案總管的左導覽窗格中，選取 **實體 > 時間項目**。</span><span class="sxs-lookup"><span data-stu-id="71e20-137">In Solution Explorer, on the left navigation pane, select  **Entities > Time Entry**.</span></span>
3. <span data-ttu-id="71e20-138">展開 **報價明細詳細資料** 實體，然後選取 **欄位**。</span><span class="sxs-lookup"><span data-stu-id="71e20-138">Expand the **Quote Line Detail** entity, and then select **Fields**.</span></span>
4. <span data-ttu-id="71e20-139">選取 **新增** 建立名為 **資源工作地點** 的新欄位，然後選取 **選項組** 做為欄位類型。</span><span class="sxs-lookup"><span data-stu-id="71e20-139">Select **New** to create a new field called **Resource Work Location** and select **Option set** as the field type.</span></span> 
5. <span data-ttu-id="71e20-140">選取 **使用現有的選項組**、選取 **資源工作地點** 選項組，然後選取 **儲存**。</span><span class="sxs-lookup"><span data-stu-id="71e20-140">Select **Use an existing Option set**, select the **Resource Work Location** option set, and then select **Save**.</span></span>
6. <span data-ttu-id="71e20-141">重複步驟 1-5，將此欄位新增至 **實際值**、**發票明細詳細資料** 和 **帳目明細** 實體。</span><span class="sxs-lookup"><span data-stu-id="71e20-141">Repeat steps 1 - 5 to add this field to the **Actual**, **Invoice Line Detail**, and **Journal Line** entities.</span></span>
7. <span data-ttu-id="71e20-142">針對 **資源工作時數** 選項組，重複步驟 1-6。</span><span class="sxs-lookup"><span data-stu-id="71e20-142">Repeat steps 1 - 6 for the **Resource Work Hours** option set.</span></span> 

> ![新增資源工作地點至時間項目](media/RWL-time-entry.png)

<span data-ttu-id="71e20-144">這樣就完成選項組型自訂維度所需的結構描述變更。</span><span class="sxs-lookup"><span data-stu-id="71e20-144">This completes the schema changes required for option set-based custom dimensions.</span></span>

## <a name="entity-based-custom-pricing-dimensions"></a><span data-ttu-id="71e20-145">實體型自訂定價維度</span><span class="sxs-lookup"><span data-stu-id="71e20-145">Entity-based custom pricing dimensions</span></span>

<span data-ttu-id="71e20-146">自訂定價維度是實體時，您將會在維度實體與主要實體之間新增 1:N 關聯。</span><span class="sxs-lookup"><span data-stu-id="71e20-146">When the custom pricing dimension is an entity, you will add 1:N relationships between the dimension entity and key entities.</span></span> <span data-ttu-id="71e20-147">使用上述的「標準職稱」範例，預計每個員工都會獲指派標準職稱。</span><span class="sxs-lookup"><span data-stu-id="71e20-147">Using the Standard Title example from above, it is reasonable to expect that each employee is assigned a standard title.</span></span> <span data-ttu-id="71e20-148">因此，您將需要從「標準職稱」到「可預約資源」的 1:N 關聯，如果是建立為「可預約資源」到「標準職稱」，則需要 N:1 關聯。</span><span class="sxs-lookup"><span data-stu-id="71e20-148">SAs a result, you will need a 1:N relationship from Standard Title to Bookable Resource, or a N:1 relationship if it were created from Bookable Resource to Standard Title.</span></span>

1. <span data-ttu-id="71e20-149">在 Project Operations 中，選取 **設定** > **解決方案**，然後按兩下 **\<your organization name> 定價維度**。</span><span class="sxs-lookup"><span data-stu-id="71e20-149">In Project operations, select **Settings** > **Solutions**, and then double-click **\<your organization name> pricing dimensions**.</span></span> 
2. <span data-ttu-id="71e20-150">在方案總管的左導覽窗格中，選取 **實體 > 標準職稱**。</span><span class="sxs-lookup"><span data-stu-id="71e20-150">In Solution Explorer, on the left navigation pane, select **Entities > Standard Title**.</span></span>
3. <span data-ttu-id="71e20-151">展開 **標準職稱** 實體，然後選取 **1:N 關聯**。</span><span class="sxs-lookup"><span data-stu-id="71e20-151">Expand the **Standard Title** entity and select **1:N Relationships**.</span></span>
4. <span data-ttu-id="71e20-152">選取 **新增** 以建立新的 1:N 關聯 (稱為 **可預約資源的標準職稱**)。</span><span class="sxs-lookup"><span data-stu-id="71e20-152">Select **New** to create a new 1:N relationship called **Standard Title to Bookable Resource**.</span></span> <span data-ttu-id="71e20-153">輸入必要資訊，然後選取 **儲存**。</span><span class="sxs-lookup"><span data-stu-id="71e20-153">Enter the required information, and then select **Save**.</span></span>

> ![新增標準職稱做為可預約資源的參照欄位](media/ST-BR.png)

<span data-ttu-id="71e20-155">也必須將標準職稱新增至定價實體 **角色價格** 和 **角色價格加成**。</span><span class="sxs-lookup"><span data-stu-id="71e20-155">The Standard Title will also need to be added to Pricing entities, **Role Price** and **Role Price Markup**.</span></span> <span data-ttu-id="71e20-156">這也是在 **標準職稱** 及 **角色價格** 實體與 **標準職稱** 及 **角色價格加成** 實體之間使用 1:N 關聯所完成。</span><span class="sxs-lookup"><span data-stu-id="71e20-156">This is also completed using 1:N relationships between the **Standard Title** and **Role Price** entities and **Standard Title** and **Role Price Markup** entities.</span></span>

1. <span data-ttu-id="71e20-157">在方案總管的左導覽窗格中，選取 **實體 > 標準職稱**。</span><span class="sxs-lookup"><span data-stu-id="71e20-157">In Solution Explorer, on the left navigation pane, select **Entities > Standard Title**.</span></span>
2. <span data-ttu-id="71e20-158">展開 **標準職稱** 實體，然後選取 **1:N 關聯**。</span><span class="sxs-lookup"><span data-stu-id="71e20-158">Expand the **Standard Title** entity and select **1:N Relationships**.</span></span>
3. <span data-ttu-id="71e20-159">選取 **新增** 以建立新的 1:N 關聯 (稱為 **角色價格的標準職稱**)。</span><span class="sxs-lookup"><span data-stu-id="71e20-159">Select **New** to create a new 1:N relationship called **Standard Title to Role Price**.</span></span> <span data-ttu-id="71e20-160">輸入必要資訊，然後選取 **儲存**。</span><span class="sxs-lookup"><span data-stu-id="71e20-160">Enter the required information, and then select **Save**.</span></span>
4. <span data-ttu-id="71e20-161">重複步驟 1 - 4，建立 **標準職稱** 與 **角色價格加成** 實體之間的 1:N 關聯。</span><span class="sxs-lookup"><span data-stu-id="71e20-161">Repeat steps 1 - 4 to create 1:N relationships between the **Standard Title** and **Role Price Markup** entities,</span></span>

<span data-ttu-id="71e20-162">在專案的銷售與估計階段中，若要對報價/專案定價，每個標準職稱都必須有工作投入的估計。</span><span class="sxs-lookup"><span data-stu-id="71e20-162">In the sales and estimation phases for the project, to price the Quote/Project, estimates of the work effort are required for each standard title.</span></span> <span data-ttu-id="71e20-163">這表示需要從標準職稱到其中每個估計實體的 1:N 關聯：</span><span class="sxs-lookup"><span data-stu-id="71e20-163">This means that 1:N relationships from Standard Title to each of these estimation entities are needed:</span></span> 

- <span data-ttu-id="71e20-164">**報價明細詳細資訊**</span><span class="sxs-lookup"><span data-stu-id="71e20-164">**Quote line Detail**</span></span>
- <span data-ttu-id="71e20-165">**專案合約服務內容詳細資料**</span><span class="sxs-lookup"><span data-stu-id="71e20-165">**Project Contract Line Detail**</span></span>
- <span data-ttu-id="71e20-166">**專案團隊成員**</span><span class="sxs-lookup"><span data-stu-id="71e20-166">**Project Team Member**</span></span>
- <span data-ttu-id="71e20-167">**估計明細**</span><span class="sxs-lookup"><span data-stu-id="71e20-167">**Estimate Line**</span></span>

5. <span data-ttu-id="71e20-168">重複步驟 1 - 5，建立從 **標準職稱** 到 **報價明細詳細資訊**、**專案合約服務內容詳細資料**、**專案團隊成員** 和 **估計明細** 的 1:N 關聯。</span><span class="sxs-lookup"><span data-stu-id="71e20-168">Repeat steps 1 - 5 to create 1:N relationships from **Standard Title** to **Quote line Detail**, **Project Contract Line Detail**, **Project Team Member**, and **Estimate Line**.</span></span>

> ![新增標準職稱做為可預約資源的估計明細](media/ST-Estimate-Line.png)

  <span data-ttu-id="71e20-170">在交付和開立發票階段中，每個標準職稱所完成的工作都必須根據專案實際值準確地定價。</span><span class="sxs-lookup"><span data-stu-id="71e20-170">In the Delivery and Invoicing phases, the work completed by each standard title must be accurately priced on the Project Actuals.</span></span> <span data-ttu-id="71e20-171">這表示必須有從 **標準職稱** 到 **時間項目**、**實際值**、**發票明細詳細資料** 和 **帳目明細** 實體的 1:N 關聯。</span><span class="sxs-lookup"><span data-stu-id="71e20-171">This means that there needs to be 1:N relationships from **Standard Title** to **Time Entry**, **Actual**, **Invoice Line Detail**, and **Journal Line entities**.</span></span>

6. <span data-ttu-id="71e20-172">重複步驟 1 - 6，建立從 **標準職稱** 到 **時間項目**、**實際值**、**發票明細詳細資料** 和 **帳目明細** 實體的 1:N 關聯。</span><span class="sxs-lookup"><span data-stu-id="71e20-172">Repeat steps 1 - 6 to create 1:N relationships from **Standard Title** to **Time Entry**, **Actual**, **Invoice Line Detail**, and **Journal Line entities**.</span></span>

> ![新增標準職稱做為可預約資源的時間項目](media/ST-Mapping.png)

### <a name="set-up-dimension-value-defaulting-using-the-mappings-features-of-the-platform"></a><span data-ttu-id="71e20-174">使用平台的對應功能設定維度值預設。</span><span class="sxs-lookup"><span data-stu-id="71e20-174">Set up Dimension value defaulting using the mappings features of the platform</span></span>
<span data-ttu-id="71e20-175">至於時間項目，讓系統根據記錄時間項目的可預約資源的時間項目來預設標準職稱，會很有幫助。</span><span class="sxs-lookup"><span data-stu-id="71e20-175">For Time Entry, it would be helpful to have the system default the standard title on the Time Entry from the Bookable Resource that is recording the time entry.</span></span> <span data-ttu-id="71e20-176">使用下列步驟，在從 **可預約資源** 到 **時間項目** 的 1:N 關聯上新增欄位對應。</span><span class="sxs-lookup"><span data-stu-id="71e20-176">Use the following steps to add field mappings on the 1:N relationship from **Bookable Resource** to **Time Entry**.</span></span>

1. <span data-ttu-id="71e20-177">在方案總管的左導覽窗格中，選取 **實體 > 標準職稱**。</span><span class="sxs-lookup"><span data-stu-id="71e20-177">In Solution Explorer, on the left navigation pane, select **Entities > Standard Title**.</span></span>
2. <span data-ttu-id="71e20-178">展開 **標準職稱** 實體，然後選取 **1:N 關聯**。</span><span class="sxs-lookup"><span data-stu-id="71e20-178">Expand the **Standard Title** entity and select **1:N Relationships**.</span></span>
3. <span data-ttu-id="71e20-179">按兩下 **時間項目的可預約資源**。</span><span class="sxs-lookup"><span data-stu-id="71e20-179">Double-click **Bookable Resource to Time Entry**.</span></span> <span data-ttu-id="71e20-180">在 **關聯** 頁面上，選取 **使用欄位對應**。</span><span class="sxs-lookup"><span data-stu-id="71e20-180">On the **Relationship** page, select **Use Field mappings**.</span></span> 
4. <span data-ttu-id="71e20-181">選取 **新增**，在 **可預約資源** 實體的 **標準職稱** 欄位到 **時間項目** 實體的 **標準職稱** 參照欄位之間建立新的欄位對應。</span><span class="sxs-lookup"><span data-stu-id="71e20-181">Select **New** to create a new field mapping between the **Standard Title** field on the **Bookable Resource** entity to the **Standard Title** reference field on **Time Entry** entity.</span></span> 

> ![設定欄位對應，以允許工作時項目的可預約資源的標準職稱設定為預設。](media/ST-Mapping2.png)

<span data-ttu-id="71e20-183">這樣就完成實體型自訂維度所需的結構描述變更。</span><span class="sxs-lookup"><span data-stu-id="71e20-183">This completes the schema changes required for entity-based custom dimensions.</span></span>

##  <a name="add-custom-fields-to-forms-views-and-business-rules"></a><span data-ttu-id="71e20-184">將自訂欄位新增至表單、檢視表和商務規則</span><span class="sxs-lookup"><span data-stu-id="71e20-184">Add custom fields to forms, views, and business rules</span></span>

<span data-ttu-id="71e20-185">進行所有必要的結構描述變更之後，下一個步驟是將欄位新增至表單和檢視表，讓欄位可以在 UI 中看到。</span><span class="sxs-lookup"><span data-stu-id="71e20-185">After you have made all of the required schema changes, the next step is to make the fields visible in the UI by adding the fields to the forms and views.</span></span>

1. <span data-ttu-id="71e20-186">開啟表單或檢視表。</span><span class="sxs-lookup"><span data-stu-id="71e20-186">Open the form or the view.</span></span> <span data-ttu-id="71e20-187">在右導覽窗格中，選取欄位，並將其拖曳至表單畫布。</span><span class="sxs-lookup"><span data-stu-id="71e20-187">On the right navigation pane, select the field and drag it on to the form canvas.</span></span> 
2. <span data-ttu-id="71e20-188">如果您正在編輯檢視表，請使用右導覽窗格，選取 **新增欄位**，然後在 **欄位清單** 對話方塊中選取所需的欄位，然後選取 **確定**。</span><span class="sxs-lookup"><span data-stu-id="71e20-188">If you are editing a view, use the right navigation pane, select **Add fields**, and in the **Field listing** dialog box, select the fields that you need and select **Ok**.</span></span>

<span data-ttu-id="71e20-189">下表提供現成可用表單及檢視表的完整清單 (依實體排列)，這需要使用新的欄位來更新。</span><span class="sxs-lookup"><span data-stu-id="71e20-189">The following table provides a comprehensive list of out-of-the-box forms and views, by entity, that will need to be updated with the new fields.</span></span> <span data-ttu-id="71e20-190">如果您在這些實體的自訂中有任何其他檢視表或表單，也請將新欄位新增至其中。</span><span class="sxs-lookup"><span data-stu-id="71e20-190">If you have any additional views or forms in your customizations on these entities, add the new fields to those as well.</span></span>

| <span data-ttu-id="71e20-191">Entity</span><span class="sxs-lookup"><span data-stu-id="71e20-191">Entity</span></span>        | <span data-ttu-id="71e20-192">需要新欄位的表單</span><span class="sxs-lookup"><span data-stu-id="71e20-192">Forms that need the new field</span></span>   |<span data-ttu-id="71e20-193">需要新欄位的檢視表</span><span class="sxs-lookup"><span data-stu-id="71e20-193">Views that need the new field</span></span>      |
| ------------------------------|---------------------------------|----------------------------------|
|  <span data-ttu-id="71e20-194">角色價格</span><span class="sxs-lookup"><span data-stu-id="71e20-194">Role Price</span></span>|<span data-ttu-id="71e20-195">• 資訊</span><span class="sxs-lookup"><span data-stu-id="71e20-195">• Information</span></span> |<span data-ttu-id="71e20-196">• 使用中資源類別價格</span><span class="sxs-lookup"><span data-stu-id="71e20-196">• Active Resource Category Prices</span></span><br> <span data-ttu-id="71e20-197">• 資源類別價格相關檢視表</span><span class="sxs-lookup"><span data-stu-id="71e20-197">• Resource Category Price Associated View</span></span>|
|  <span data-ttu-id="71e20-198">角色價格加成</span><span class="sxs-lookup"><span data-stu-id="71e20-198">Role Price Markup</span></span>|<span data-ttu-id="71e20-199">• 資訊</span><span class="sxs-lookup"><span data-stu-id="71e20-199">• Information</span></span>|<span data-ttu-id="71e20-200">• 使用中角色價格加成</span><span class="sxs-lookup"><span data-stu-id="71e20-200">• Active Role Price Markup</span></span><br><span data-ttu-id="71e20-201">• 角色價格加成相關檢視</span><span class="sxs-lookup"><span data-stu-id="71e20-201">• Role Price Markup Associated View</span></span>|
|  <span data-ttu-id="71e20-202">報價明細詳細資訊</span><span class="sxs-lookup"><span data-stu-id="71e20-202">Quote line detail</span></span>|<span data-ttu-id="71e20-203">• 專案資訊</span><span class="sxs-lookup"><span data-stu-id="71e20-203">• Project Information</span></span><br><span data-ttu-id="71e20-204">• 專案快速建立</span><span class="sxs-lookup"><span data-stu-id="71e20-204">• Project Quick Create</span></span>|<span data-ttu-id="71e20-205">• 使用中報價明細詳細資訊</span><span class="sxs-lookup"><span data-stu-id="71e20-205">• Active Quote Line Detail</span></span><br><span data-ttu-id="71e20-206">• 合併的報價明細詳細資料</span><span class="sxs-lookup"><span data-stu-id="71e20-206">• Combined Quote Line Details</span></span><br><span data-ttu-id="71e20-207">• 報價明細詳細資料相關檢視表</span><span class="sxs-lookup"><span data-stu-id="71e20-207">• Quote Line Detail associated view</span></span>|
|  <span data-ttu-id="71e20-208">• 專案合約服務內容詳細資料</span><span class="sxs-lookup"><span data-stu-id="71e20-208">Project Contract line detail</span></span>|<span data-ttu-id="71e20-209">• 專案資訊</span><span class="sxs-lookup"><span data-stu-id="71e20-209">• Project Information</span></span><br><span data-ttu-id="71e20-210">• 專案快速建立</span><span class="sxs-lookup"><span data-stu-id="71e20-210">• Project Quick Create</span></span>|<span data-ttu-id="71e20-211">• 合併的合約服務內容詳細資料</span><span class="sxs-lookup"><span data-stu-id="71e20-211">• Combined Contract Line Details</span></span><br><span data-ttu-id="71e20-212">• 使用中合約服務內容詳細資料</span><span class="sxs-lookup"><span data-stu-id="71e20-212">• Active Contract Line Details</span></span><br><span data-ttu-id="71e20-213">• 合約服務內容詳細資料相關檢視表</span><span class="sxs-lookup"><span data-stu-id="71e20-213">• Contract Line Details Associated View</span></span>|
|  <span data-ttu-id="71e20-214">專案團隊成員</span><span class="sxs-lookup"><span data-stu-id="71e20-214">Project Team Member</span></span>|<span data-ttu-id="71e20-215">• 資訊</span><span class="sxs-lookup"><span data-stu-id="71e20-215">• Information</span></span><br><span data-ttu-id="71e20-216">• 新表單</span><span class="sxs-lookup"><span data-stu-id="71e20-216">• New Form</span></span>|<span data-ttu-id="71e20-217">• 使用中專案團隊成員</span><span class="sxs-lookup"><span data-stu-id="71e20-217">• Active Project Team Members</span></span><br><span data-ttu-id="71e20-218">• 專案團隊成員</span><span class="sxs-lookup"><span data-stu-id="71e20-218">• Project Team Members</span></span><br><span data-ttu-id="71e20-219">• 專案團隊成員相關檢視表</span><span class="sxs-lookup"><span data-stu-id="71e20-219">• Project Team members associated View</span></span>|
|  <span data-ttu-id="71e20-220">時間項目</span><span class="sxs-lookup"><span data-stu-id="71e20-220">Time Entry</span></span>|<span data-ttu-id="71e20-221">• 資訊</span><span class="sxs-lookup"><span data-stu-id="71e20-221">• Information</span></span><br><span data-ttu-id="71e20-222">• 建立時間項目</span><span class="sxs-lookup"><span data-stu-id="71e20-222">• Create Time Entry</span></span>|<span data-ttu-id="71e20-223">• 我依日期的時間項目</span><span class="sxs-lookup"><span data-stu-id="71e20-223">• My Time Entries By Date</span></span><br><span data-ttu-id="71e20-224">• 我本週的時間項目</span><span class="sxs-lookup"><span data-stu-id="71e20-224">• My time Entries for this week</span></span><br><span data-ttu-id="71e20-225">• 供核准的時間項目</span><span class="sxs-lookup"><span data-stu-id="71e20-225">• Time entries for approval</span></span>|
|  <span data-ttu-id="71e20-226">帳目明細</span><span class="sxs-lookup"><span data-stu-id="71e20-226">Journal Line</span></span>|<span data-ttu-id="71e20-227">• 資訊</span><span class="sxs-lookup"><span data-stu-id="71e20-227">• Information</span></span><br><span data-ttu-id="71e20-228">• 快速建立</span><span class="sxs-lookup"><span data-stu-id="71e20-228">• Quick create</span></span>|<span data-ttu-id="71e20-229">• 使用中帳目明細</span><span class="sxs-lookup"><span data-stu-id="71e20-229">• Active journal lines</span></span><br><span data-ttu-id="71e20-230">• 帳目明細相關檢視表</span><span class="sxs-lookup"><span data-stu-id="71e20-230">• Journal Line associated view</span></span>|
|  <span data-ttu-id="71e20-231">發票明細詳細資料</span><span class="sxs-lookup"><span data-stu-id="71e20-231">Invoice Line Detail</span></span>|<span data-ttu-id="71e20-232">• 資訊</span><span class="sxs-lookup"><span data-stu-id="71e20-232">• Information</span></span><br><span data-ttu-id="71e20-233">• 快速建立</span><span class="sxs-lookup"><span data-stu-id="71e20-233">• Quick create</span></span>|<span data-ttu-id="71e20-234">• 使用中發票明細詳細資料</span><span class="sxs-lookup"><span data-stu-id="71e20-234">• Active Invoice Line Details</span></span><br><span data-ttu-id="71e20-235">• 應收費發票交易</span><span class="sxs-lookup"><span data-stu-id="71e20-235">• Chargeable Invoice Transactions</span></span><br><span data-ttu-id="71e20-236">• 附贈發票交易</span><span class="sxs-lookup"><span data-stu-id="71e20-236">• Complimentary Invoice Transactions</span></span><br><span data-ttu-id="71e20-237">• 發票明細詳細資料相關檢視表</span><span class="sxs-lookup"><span data-stu-id="71e20-237">• Invoice Line Detail associated view</span></span><br><span data-ttu-id="71e20-238">• 不應收費發票交易</span><span class="sxs-lookup"><span data-stu-id="71e20-238">• Non-Chargeable Invoice Transactions</span></span>|
|  <span data-ttu-id="71e20-239">實際</span><span class="sxs-lookup"><span data-stu-id="71e20-239">Actual</span></span>|<span data-ttu-id="71e20-240">• 資訊</span><span class="sxs-lookup"><span data-stu-id="71e20-240">• Information</span></span><br><span data-ttu-id="71e20-241">• 使用中實際值</span><span class="sxs-lookup"><span data-stu-id="71e20-241">• Active Actuals</span></span>|<span data-ttu-id="71e20-242">• 實際值相關檢視表</span><span class="sxs-lookup"><span data-stu-id="71e20-242">• Actual Associated view</span></span>|

<span data-ttu-id="71e20-243">可能也需要根據您定義的內容，在商務規則上新增自訂欄位。</span><span class="sxs-lookup"><span data-stu-id="71e20-243">Custom fields may also need to be added on business rules depending on what you have defined.</span></span> <span data-ttu-id="71e20-244">現成可用的範例適用於商務規則 **根據狀態的時間項目編輯功能**。</span><span class="sxs-lookup"><span data-stu-id="71e20-244">One out-of-the-box example is for the business rule **Editability of Time Entry based on status**.</span></span> <span data-ttu-id="71e20-245">此規則定義時間項目處於不可編輯狀態 (**已核准**) 時，需要鎖定哪些欄位。</span><span class="sxs-lookup"><span data-stu-id="71e20-245">This rule defines which fields need to be locked when the Time Entry is in a non-editable status such as **Approved**.</span></span> <span data-ttu-id="71e20-246">將欄位新增至此商務規則，以便在時間項目處於 **草稿** 或 **已退回** 以外的狀態時，鎖定欄位不得編輯。</span><span class="sxs-lookup"><span data-stu-id="71e20-246">Add fields to this business rule so that the fields are locked for editing when the Time Entry is in a status other than **Draft** or **Returned**.</span></span>


[!INCLUDE[footer-include](../includes/footer-banner.md)]