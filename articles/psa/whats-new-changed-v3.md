---
title: Project Service Automation 版本 3 的新功能或變更
description: 本主題提供 Project Service Automation 版本 3 中新推出或已變更功能的相關資訊。
manager: kfend
ms.service: project-operations
ms.custom:
- dyn365-projectservice
ms.date: 11/28/2018
ms.topic: article
author: JohnPBurrows
ms.author: rumant
audience: Admin
search.audienceType:
- admin
- customizer
- enduser
search.app:
- D365CE
- D365PS
- ProjectOperations
ms.openlocfilehash: 6ce4c549b04716d466efa262dbc6a4abf28ea9eb
ms.sourcegitcommit: 418fa1fe9d605b8faccc2d5dee1b04b4e753f194
ms.translationtype: HT
ms.contentlocale: zh-HK
ms.lasthandoff: 02/10/2021
ms.locfileid: "5150695"
---
# <a name="whats-new-or-changed-in-project-service-automation-version-3"></a>Project Service Automation 版本 3 的新功能或變更

[!include [banner](../includes/psa-now-project-operations.md)]

[!INCLUDE[cc-applies-to-psa-app-1x-2x](../includes/cc-applies-to-psa-app-1x-2x.md)]

[!include [rename-banner](~/includes/cc-data-platform-banner.md)]

本主題提供有關 Project Service Automation 在版本 2 或版本 1 與版本 3 之間對使用者介面 (UI)、功能和詞彙所做變更的資訊。

## <a name="project-scheduling"></a>專案排程功能
「專案排程」在舊版中稱為分工結構圖 (WBS)，現已重新命名為「排程」，您可按一下 **排程** 索引標籤來存取。 

![專案排程](media/psa-schedule-01.png)

排程現在已有既現代化又易於存取的新互動介面。 不過，基礎 Project Service Automation 排程引擎沒有變更。 排程網格功能區中的控制項按鈕可讓您與類似於舊版 Project Service Automation 的排程進行互動。 排程的其他變更包括：

- **甘特圖** - 甘特圖已不存在。 未來的更新中將會再現嶄新的 Gannt 視覺化效果。
- **欄標題** - 您可以按一下欄標題旁邊的向下指標，隱藏網格中的欄標題。 
- **欄** - 按一下 **新增欄** 可以顯示隱藏的欄。 
- **交易類別** - **交易類別** 查詢已新增至排程網格，且預設會顯示。 
 
## <a name="project-templates"></a>專案範本
已對專案範本功能進行下列變更。

### <a name="create-a-project-template"></a>建立專案範本 
您可以在版本 3 中建立與舊版 Project Service Automation 類似的專案範本。 範本只能包含排程，而排程可以包含指派，但這些指派不是必要的。 如果排程確有指派，這些指派只適用於一般資源。 您可以為一般資源產生資源需求，但這些需求無法預約範本中的實際資源。 您無法將實際資源預約至範本中的團隊。 

### <a name="create-a-template-from-an-existing-template"></a>從現有範本建立範本
從 Project Service Automation 版本 3 的現有範本建立新的專案範本時，會發生下列情況： 

- 將來源專案的排程複製到範本中。 
- 將一般資源複製到團隊中，並且將任何一般資源指派複製過來。 不會複製一般資源的需求。 

### <a name="create-a-template-from-an-existing-project"></a>從現有專案建立範本
從現有專案建立新的專案範本時，會發生下列情況： 

- 將來源專案的排程複製到範本中。 
- 將一般資源複製到團隊中，並且保留任何一般資源指派。 不會複製一般資源的需求。    
- 將具名資源 (已指派或未指派) 從團隊中移除並取代為一般資源。
- 若有客戶資訊，則加以移除。 
- 若有報價及合約的參照，則加以移除。 

### <a name="create-a-project-from-a-template"></a>從範本建立專案
在 Project Service Automation 版本 3 中，當您從範本建立新專案時，會發生下列情況：

- 將排程、團隊及指派複製到新專案。   
- 開始日期是複製日期或是使用者所選取的日期。   
- 對於任何在範本中有資源需求的一般團隊成員，不會自動複製或產生需求。 您將需要自行產生這些需求。 

## <a name="copy-a-project"></a>複製專案
在 Project Service Automation 版本 3 中，當您複製專案時，會發生下列情況： 

- 複製估計的開始日期，但可加以變更。  
- 複製專案排程和工作。 
- 複製一般資源及其指派。 不會複製一般資源的資源需求。 您將必須重新產生這些需求。 
- 不會複製實際資源及其指派。 而是將其取代為一般資源。 
- 不會將複製實際值到新專案。 

## <a name="move-a-scheduled-project"></a>移動已排程的專案
當您向前移動現有專案的排程時，會發生下列情況： 

- 自動將工作日期移動到符合移動週期。 
- 仍然指派已指派的一般資源。   
- 如果專案移動之前已產生這些需求，則一般資源的需求保持不變，而不會自動重新產生。 您將必須再次產生這些需求，才能反映因為工作移動而帶來的新指派。 
- 實際資源的指示會變更，以符合工作日期移動。 實際資源上的預約不會變更。 您需要使用協調檢視表來修改預約。 
- 有預約但沒有指派的團隊資源不會變更。 
- 實際值不移動。 

## <a name="estimates"></a>估計值
估計已分為 **資源指派** 和 **估計** 這兩個索引標籤。 **資源指派** 索引標籤包含投入量估計值，並且會在分時期檢視表中顯示工作的資源指派。 您可以根據排程引擎所產生的結果來編輯估計值。

![[資源指派] 索引標籤，顯示工作的投入量估計值和資源指派](media/resource-assignments-tab-02.png)

**估計值** 索引標籤會顯示資源指派的成本與銷售金額。 金額是唯讀的。 成本估算和銷售定價現在是由排程上的團隊成員指派所驅動。 這表示如果您的工作沒有任何指派，則該工作會顯示在未指派貯體底下。 這也表示，如果您的客戶或合約/報價與專案有關聯，則沒有 **角色** (這是預設定價維度)，就無法估計成本或銷售。 

![[估計值] 索引標籤，顯示成本和銷售金額](media/estimates-tab-03.png)
  
排程檢視表中的工作也支援類別。 依類別在估計值分時期檢視表上進行分組將提供更佳的體驗，尤其是當您在專案中也有費用估計時。 費用估計值是使用不同索引標籤上的網格來輸入。 

您可以在 **費用估計值** 索引標籤的網格中輸入費用估計值。 

![[費用估計值] 索引標籤，顯示費用估計值網格](media/expense-estimates-tab-04.png)

## <a name="resource-management"></a>資源管理
在 Project Service Automation 版本 3 中，由於採用整合用戶端 UI，以及預約與指派之間關聯有所變更，staffing a project 使用一般或實際資源配置專案人員的方式在版本 2 及版本 1 以後發生了大幅改變。 不過，可預約資源 (**實際** 和 **一般**) 的概念與團隊成員、需求、指派及預約一樣，仍保持不變。   

![使用資源選擇器](media/resource-management-05.png)

### <a name="assign-a-real-bookable-resource"></a>指派實際可預約資源 
在 Project Service Automation 版本 3 中，預約和工作指派不像在舊版 Project Service Automation 中那樣緊密交織繫結。 您可以使用團隊網格來預約 **實際** 團隊成員，就像在市場上一樣。

您可以使用排程上的資源選擇器來選取團隊檢視表中建立的團隊成員，然後將他們指派給工作。 您也可以繼續將工作指派給他們，即使是越過其預約。 使用 **協調** 索引標籤來協調預約與指派有差異的團隊成員。

資源選擇器將會顯示專案的團隊成員。 您也可以使用資源選擇器來搜尋和檢視不屬於專案團隊的其他可預約資源。 您可將其指派給工作，然後這些資源就會成為專案團隊的一部分。 您將需要使用 **排程面板** 或 **協調** 索引標籤來進行預約。

### <a name="assign-a-generic-bookable-resource-on-a-task-and-project-team-and-then-fulfill-with-a-real-resource-via-schedule-board"></a>在工作與專案團隊上指派一般可預約資源，然後透過排程面板使用實際資源來履行。 
在 Project Service Automation 版本 3 中，產生團隊功能不會用於一般資源。 相反的，您可以在排程的資源儲存格中輸入一般資源的職位名稱，以從排程建立一般資源並直接指派此資源。 或者，也可以選取儲存格中的資源圖示，然後使用資源選擇器，輸入您要建立的一般資源的名稱。 這會開啟快速建立面板，讓您設定一般資源團隊成員的角色和組織單位。 建立資源之後，將其指派給工作，您就可以繼續將該一般資源指派給排程中的其他工作。    
 
將資源指派給所有的適當工作之後，您可以產生資源需求，然後透過直接向 **排程面板** 預約或送送出向出資源要求來履行需求。 您也可以直接將一般資源新增至團隊成員網格。 

一般資源會新增至專案團隊，其在產生資源需求之前，不會有資源需求，以及專案的開始/結束日期。 若要生成需求，請選取一般資源，然後按一下 **產生**。 需求連結隨即顯示，而且需要的時數會以指派的時數填入。 您可以按一下連結，開啟並更新需求。
  
當預約完成且完全由具名資源履行時，一般資源會取代為指定的資源，而排程上的指派以具名資源來更新。 

針對需求提案建議的資源現在會儲存在索引標籤上，而不是儲存在不同的區段。

### <a name="multiple-named-resources-fulfilling-a-generic-resource"></a>多個履行一般資源的具名資源
使用多個資源履行需求時，一般資源會保留在團隊中，並指派給工作。 已預約的具名團隊成員不會指派為職位的一部分。 專案經理可以視需要指派工作至實際資源。  **協調** 檢視表會將跨多個資源的預約細目提供給多個工作指派。 系統不自動這樣做，因為在較複雜的案例中，例如您有大量產生需求的工作時，專案經理要如何指派的意向，必須加以假設。 因為系統無法了解意向，假設可能會與預期的不同，並且會發生不正確或不可預測的結果。 可預知的結果是，在專案經理使用 **協調** 檢視表審慎指派資源之前，一般資源仍保留已指派狀態。

### <a name="reconciliation"></a>協調
**協調** 索引標籤會顯示每個專案團隊成員的預約及所有指派。 檢視表會在儲存格中顯示時數，這可以表示從月數至天數的時間點。 此檢視表可讓專案經理協調團隊成員的預約及其對專案團隊的指派。 這會很有用，因為預約和工作指派未緊密聯繫，可在規劃專案時提供更多的彈性。 

![[協調] 索引標籤，顯示專案團隊成員的預約及指派](media/resource-reconciliation-tab-06.png)

對於每個資源，此檢視表都會計算團隊成員預約與其工作指派彙總之間的差異，並顯示下列兩個可能在專案中的預約與指派之間發生的差異： 

- **預約不足** - 當資源的指派數超過預約數時，就會發生預約短缺。 由於尚未保留此產能，專案經理可能需要延長資源預約以彌補短缺來更正此情況。 
- **超額預約** - 當資源已預約給專案，但尚未指派給工作時，會發生超額預約。  例如，如果已在工作指派之前預約資源，這可能會是可接受的情況。 不過，在其他情況下，資源可能未規劃要進行指派，而且專案經理應考慮取消資源預約，以允許其他專案使用產能。 

當資源有工作指派但沒有預約 (預約不足) 時，您可以選取彙總預約短缺，然後按一下 **延長預約**。 您可以從這裡檢視解決資源不足所需的預約及其可用性。 
 
## <a name="time-and-expense"></a>時間和費用
本節提供有關 Project Service Automation 版本 3 的時間、費用和核准變更的資訊。 隨附於 Dynamics 365 Project Service Automation 解決方案的 **時間項目** 功能已翻新成運用整合介面架構。 這樣就可以提供遵循回應式設計的一致整合使用者介面 (UI)，讓您在任何螢幕大小或裝置上都能看到最佳畫面。 

### <a name="landing-page"></a>登陸頁面
非可擴充自訂時間輸入體驗已在版本 3 中被取代。 現在取而代之的是可擴充且易於存取的原生網格體驗。 您可以使用左側網站地圖來存取時間項目功能。 有了這樣的變更後，您已無法一次輸入一週的時間。 而是必須為網格中的每一天建立時間項目。 建立幾個時間項目之後，使用者就可以使用本主題稍後所述的 **複製** 功能來大量建立時間項目。 

![時間項目登陸頁面](media/time-entry-landing-page-07.png)
 
### <a name="create-new-time-entries"></a>建立新的時間項目 
按一下功能區中的 **新增** 開啟時間項目的快速建立頁面，您可以在其中輸入以分鐘、小時或天為單位的期間。 若要這樣做，只需開始輸入 h、m 或 d 以及數量即可。  

![時間項目快速建立](media/quick-create-time-entry-08.png)

查詢欄位是由系統檢視表支援。 例如，輸入專案資訊後，**專案工作** 欄位預設會設定為 **我的待完成專案工作** 檢視表。 若要建立未指派給使用者之工作的時間項目，請在查詢上選取 **變更檢視表**，然後選取 **所有使用中專案工作**。 時間項目經建立並顯示在網格之後，您可以直接在網格中編輯任何明細值。  

### <a name="bulk-createcopy"></a>大量建立/複製 
建立幾個時間項目之後，您可以使用複製功能大量建立其他時間項目。 按一下 **複製** 以開啟 **複製** 對話方塊。 在 **開始期間：開始日期** 中，設定必須從中複製期間時段的日期範圍。 在 **結束期間：開始日期** 中，指定必須建立時間項目的日期。 按一下 **複製**，將時間項目複製到 **結束期間** 中所指示對應星期幾。 例如，將上週星期一的時間項目複製到 **結束期間** 中所示之週的星期一。 

![大量複製時間項目](media/bulk-copy-time-entry-09.png)
 
### <a name="import-data"></a>匯入資料 
指派和交換也遵循同樣的 UI 模式，這可讓使用者指定需要從何時開始匯入預約的日期範圍。 您接著必須明確選擇應複製成 **草稿** 時間項目的預約。 在版本 3 中，您已無法在網格和行事曆上看到 **建議** 時間項目的模式。  

### <a name="change-in-calendar-control"></a>行事曆控制項中的變更
在版本 3 中，我們已不再採用自訂行事曆控制項，現在是使用 UC 行事曆來顯示週的時間項目。 您可以使用此行事曆來檢視日、週和月。 

> [!NOTE]
> 行事曆的限制是，此控制項不支援對個別行事曆項目的動作。 例如，您將無法選取一個或多個行事曆項目，以及送出或刪除這些項目。 按一下行事曆項目，將會開啟 **時間項目實體** 頁面，以供進行其他動作。 

### <a name="extensibility"></a>擴充性
**僅擷取時間及費用項目實體的自訂欄位中的資料** - 時間項目會使用平台中的可編輯網格、唯讀網格和行事曆控制項。 所有這些控制項都是原生控制項，因此會支援自訂。 在 Project Service Automation 版本 3 中，您可以新增其他自訂欄位、設定查詢欄位，以及使用自訂檢視表進行備份。 您也可以根據自訂欄位中選取的值來設定自訂商務規則。  

**擷取時間及費用項目實體的自訂欄位中的資料，並透過支援送出和核准流程的實體進行傳播** - 下圖中顯示時間項目的一般程序。

![時間項目流程處理](media/process-time-entries-10.png)

如果業務需求規定時間和費用實體必須擷取自訂定價維度，並透過上圖中所有實體傳播由自訂定價維度中的時間及項目資源所設定的值，請參閱[將自訂欄位設定為定價維度](set-up-pricing-dimensions.md)

為了支援時間及費用實體必須擷取自訂非定價維度並傳播值的業務需求，您可以使用定價維度設定，並將自訂維度表示為沒有成本或帳單費率的定價維度。 另一個案例會是將自訂欄位新增至每個實體，並在所有實體中使用相同的欄位名稱。 您可以使用交易來源和交易關係實體，建立自訂外掛程式來關聯參與送出/核准流程之實體中的記錄。  

### <a name="delegate-time-and-expense-entry"></a>委派時間及費用項目
Common Data Service 平台不支援一個使用者模擬另一個的功能，這表示在 Project Service Automation 版本 3 中，無法支援委派時間及費用項目。 不過，合作夥伴和客戶已運用因應措施，在版本 3 中啟用對委派時間項目體驗的支援。 這只是因應措施，而非完整解決方案，因此務必了解限制，並且只在限制可接受時，才使用這種方法。 

> [!IMPORTANT]
> 此資訊應只視為對合作夥伴/客戶進行自訂實作的建議指引。 產品團隊將不會透過我們任何支援管道提供此功能的正式支援。

### <a name="customization-details"></a>自訂詳細資料 
自訂可讓您將 **可預約資源** 新增至建立與編輯體驗，這樣可讓使用者藉由將 **預約資源** 欄位變更為其他需要錄製時間及費用項目的使用者來充當代理人。 下列步驟說明時間項目委派。 同樣的資訊也適用於費用項目委派。 
 
1.  請確定委派的使用者擁有專案與專案工作的全域安全性存取權。 
1.  因為 **快速建立** 頁面未公開 **可預約資源** (這是 **時間項目** 實體上的欄位)，所以您需要新增此資源。

    -或-

    建立包含 **可預約資源** 欄的自訂檢視表，僅檢視針對資源所建立的時間項目。 在應用程式模組設計師上發行自訂，讓此檢視表出現在 **時間項目** 頁面的 **檢視表選取器** 底下。 有兩個處理非專案時間項目經理設定的外掛程式：

    - PreValidateTimeEntryCreate
    - PreValidateTimeEntryUpdate
 
1. 建立新的外掛程式，將 **經理** 欄位覆寫至 **可預約資源** 欄位中所指派使用者的經理。 使用相同的 **執行階段** 做為頻外 (OOB) 外掛程式 (預先驗證)，並使用高於 OOB 外掛程式的 **執行順序** (大於 1)。 這可確保自訂外掛程式在 OOB 外掛程式之後執行。  
 
### <a name="end-user-experience"></a>使用者體驗
1.  在快速建立頁面上建立時間項目時，請輸入專案及專案工作詳細資料，然後在 **可預約資源** 欄位中選擇需要為其記錄時間項目的使用者。 
2.  根據預設，此欄位預設會將使用者登入，但若使用者已覆寫此欄位，就會立即為所選 **可預約資源** 建立時間項目。
3.  當您送出為這些記錄建立的時間項目時，這些項目會依預期排入佇列等待專案中的核准者核准。 
4.  當您回收為另一個使用者建立的時間項目時，時間項目會回復為 **草稿** 狀態，並將 **可預約資源** 欄位設定為其他使用者。 
5.  您也可以選擇切換至自訂檢視表，篩選為另一個使用者建立的時間項目。 
 
### <a name="limitations"></a>限制
**複製** 和 **匯** 入功能只能在已登入使用者的內容中使用。 這表示無法複製或匯入針對以可預約資源身分登入之使用者所建立的時間項目。

只有在完成上述 **自訂詳細資料** 一節的步驟 4 時，才會將不是針對專案的時間項目路由傳送給可預約資源的經理以供核准。 否則，會錯誤地將其他使用者的非專案時間項目正確地路由傳送給已登入使用者的經理。 

### <a name="other-changes"></a>其他變更 
已移除 **預約和工作** 功能。 

## <a name="multidimensional-pricing"></a>多維度定價
為了提供最大彈性並符合不同的業務需求，Project Service Automation 版本 3 支援將定價維度集離散套用至成本和帳單費率。 您可以將維度值設定為預設值，然後在從資源分析到時間項目的整個成本估算及價格定訂程序中，將其傳播至專案實際值。 客戶特定設定與修改或擴充功能會充分利用標準可自訂性基礎結構。

Project Service Automation 隨附一組預設定價維度和角色以及資源單位，並允許設定每個角色與組織單位組合的價格及成本。

對想要在版本 3 中繼續使用這些內建欄位做為定價維度的 Project Service Automation 客戶來說，並沒有任何看得出的變更。 您可以繼續照常使用 Project Service Automation。 不過，如果您需要使用其他其他屬性來為資源定訂價格或估算成本，版本 3 也允許您將自己的自訂定價維度新增至 Project Service Automation。 自訂定價維度的延伸是一種複雜的設定體驗。 

## <a name="quotes-and-contracts"></a>報價和合約
在 Project Service Automation 版本 3 中，報價和合約的設定與管理層面已變更。 以下各節提供更詳細的資訊。

### <a name="set-up-chargeability-options"></a>設定可收費率選項
在版本 1 和 2 中，特定報價及合約之角色和類別的可收費率設定是使用位於報價明細或合約明細頂端導覽中的 **可收費率** 檢視表來完成。 這也是您可以為這些角色和費用類別設定價格的地方。

從版本 3 開始，依角色和費用類別設定可收費率的作業會在報價或合約服務內容層級完成。 定價設定與可收費率設定不同。 您不需使用頂端導覽就可以在 **報價明細** 和 **合約服務內容** 頁面上找到做為索引標籤的 **應收費角色** 和 **應收費類別**。

![應收費角色](media/chargeable-12.png)
 
設定 [應收費角色] 和 [應收費類別] 的作業也會利用預設的可編輯網格控制項。 對每個角色和類別來說，報價和簽約階段的帳單類型支援選項仍保持不變，與先前版本中的 **應收費** 及 **不應收費** 一樣。 **附贈** 不是報價或簽約階段支援的類型。 只有在時間或費用核准期間才會支援 **附贈**。  
 
### <a name="create-and-edit-custom-pricing-for-a-project-service-automation-quote-and-project-contract"></a>建立和編輯 Project Service Automation 報價和專案合約的自訂定價
在版本 1 和 2 中，針對特定報價和合約使用自訂價目表的作業是使用 **可收費率** 檢視表上的 **編輯價格** 來完成。 **可收費率** 檢視表位於報價明細或合約明細的頂端導覽。 這也是您可以為角色和費用類別設定可收費率選項的地方。

自版本 3 起，在 Project Service Automation 報價和 Project Service Automation 專案合約上建立和使用自訂專案價目表的作業已經與可收費率設定分開。 Project Service Automation 報價和 Project Service Automation 專案合約有一個名為 **專案價目表** 的新索引標籤。 此索引標籤會顯示所有附加至 Project Service Automation 報價或專案合約的專案價目表相關檢視表。 若要從現有已與專案報價或合約相關聯的價目表建立自訂價目表，請按一下 **建立自訂定價**。 這會建立所有相關價目表的複本並附加至報價或合約。 您現在可以開啟價目表並編輯角色或費用類別價格，讓這些定價變更就只會套用至此報價或合約。 
  
下圖是在自訂價目表已建立之前的圖形。

![自訂價目表之前](media/before-custom-price-lists-13.png)

下圖顯示建立自訂價目表之後的情況。

![自訂價目表之後](media/after-custom-price-lists-14.png)

> [!NOTE]
> 按一下 **建立自訂定價** 之時，到建立了自訂價目表之間，可能會發生短暫的延遲。 建議您重新整理網格，而不要多次點按。 如果相關價目表名稱中有出現報價名稱或專案合約名稱，即表示已建立自訂價目表。


[!INCLUDE[footer-include](../includes/footer-banner.md)]